# 技能系统详细设计

## 📋 技能列表

### 近战技能（物理伤害）

#### 1. 重击（Heavy Strike）
- **解锁等级：** 5级
- **冷却时间：** 3秒
- **伤害：** 150% 物理攻击力
- **效果：** 前摇0.5秒，可打断敌人攻击
- **特效：** 重击特效，屏幕震动
- **连招：** 可接"连斩"

#### 2. 连斩（Combo Slash）
- **解锁等级：** 10级
- **冷却时间：** 2秒
- **伤害：** 80% 物理攻击力 × 3次
- **效果：** 快速三连击
- **特效：** 刀光特效
- **连招：** 可接"重击"或"旋风斩"

#### 3. 旋风斩（Whirlwind）
- **解锁等级：** 15级
- **冷却时间：** 5秒
- **伤害：** 100% 物理攻击力 × 5次
- **效果：** 范围攻击，持续1秒
- **特效：** 旋风特效
- **连招：** 可接"重击"

#### 4. 突刺（Dash Strike）
- **解锁等级：** 20级
- **冷却时间：** 4秒
- **伤害：** 120% 物理攻击力
- **效果：** 向前突进，位移+伤害
- **特效：** 突进特效
- **连招：** 可接"连斩"

### 远程技能（魔法伤害）

#### 5. 火球术（Fireball）
- **解锁等级：** 5级
- **冷却时间：** 2秒
- **伤害：** 120% 魔法攻击力
- **效果：** 直线飞行，爆炸范围伤害
- **特效：** 火球特效，爆炸特效
- **连招：** 可接"闪电链"

#### 6. 冰箭（Ice Arrow）
- **解锁等级：** 10级
- **冷却时间：** 3秒
- **伤害：** 100% 魔法攻击力
- **效果：** 减速敌人30%，持续3秒
- **特效：** 冰箭特效，减速特效
- **连招：** 可接"能量弹"

#### 7. 闪电链（Chain Lightning）
- **解锁等级：** 15级
- **冷却时间：** 4秒
- **伤害：** 80% 魔法攻击力 × 3次（连锁）
- **效果：** 连锁攻击3个敌人
- **特效：** 闪电特效，连锁特效
- **连招：** 可接"火球术"

#### 8. 能量弹（Energy Ball）
- **解锁等级：** 20级
- **冷却时间：** 3秒
- **伤害：** 150% 魔法攻击力
- **效果：** 追踪敌人
- **特效：** 能量球特效
- **连招：** 可接"冰箭"

### 辅助技能（Buff/Debuff）

#### 9. 狂暴（Berserk）
- **解锁等级：** 8级
- **冷却时间：** 20秒
- **持续时间：** 5秒
- **效果：** 攻击速度+50%，伤害+30%
- **特效：** 红色光效
- **连招：** 无

#### 10. 护盾（Shield）
- **解锁等级：** 12级
- **冷却时间：** 15秒
- **持续时间：** 5秒
- **效果：** 吸收500点伤害
- **特效：** 护盾特效
- **连招：** 无

#### 11. 治疗（Heal）
- **解锁等级：** 16级
- **冷却时间：** 10秒
- **效果：** 恢复30%最大生命值
- **特效：** 绿色光效，治疗特效
- **连招：** 无

#### 12. 减速领域（Slow Field）
- **解锁等级：** 20级
- **冷却时间：** 12秒
- **持续时间：** 4秒
- **效果：** 范围内敌人减速50%
- **特效：** 领域特效
- **连招：** 无

### Boss奖励技能

#### 13. 暗影步（Shadow Step）
- **解锁方式：** 击败Boss 1
- **冷却时间：** 5秒
- **效果：** 瞬移到敌人身后，造成100%物理攻击力伤害
- **特效：** 暗影特效

#### 14. 火焰护盾（Fire Shield）
- **解锁方式：** 击败Boss 2
- **冷却时间：** 20秒
- **持续时间：** 8秒
- **效果：** 反弹50%近战伤害
- **特效：** 火焰护盾特效

#### 15. 冰霜新星（Frost Nova）
- **解锁方式：** 击败Boss 3
- **冷却时间：** 8秒
- **效果：** 范围冰冻，造成150%魔法攻击力伤害
- **特效：** 冰霜爆炸特效

#### 16. 雷电之怒（Thunder Fury）
- **解锁方式：** 击败Boss 4
- **冷却时间：** 10秒
- **效果：** 召唤雷电，持续3秒，每秒造成80%魔法攻击力伤害
- **特效：** 雷电特效

#### 17. 暗影爆发（Shadow Burst）
- **解锁方式：** 击败最终Boss
- **冷却时间：** 30秒
- **效果：** 全屏伤害，造成300%攻击力伤害
- **特效：** 暗影爆发特效

---

## 🔗 连招系统设计

### 连招规则
1. **连招窗口：** 0.5秒内按下下一个技能
2. **连招伤害：** 递增（100% → 120% → 150%）
3. **连招计数：** 显示连击数
4. **连招奖励：** 连击数越高，额外伤害越高

### 连招组合

#### 近战连招
```
连斩 → 重击 → 旋风斩
伤害：80%×3 → 150%×1.2 → 100%×5×1.5
```

```
突刺 → 连斩 → 重击
伤害：120% → 80%×3×1.2 → 150%×1.5
```

#### 远程连招
```
火球术 → 闪电链 → 能量弹
伤害：120% → 80%×3×1.2 → 150%×1.5
```

```
冰箭 → 能量弹 → 火球术
伤害：100% → 150%×1.2 → 120%×1.5
```

#### 混合连招
```
突刺 → 火球术 → 连斩
伤害：120% → 120%×1.2 → 80%×3×1.5
```

---

## 📊 技能数据表结构

```csharp
public class SkillConfig
{
    public int SkillId;              // 技能ID
    public string SkillName;         // 技能名称
    public SkillType Type;           // 技能类型（近战/远程/辅助）
    public int UnlockLevel;          // 解锁等级
    public float Cooldown;           // 冷却时间
    public float CastTime;           // 施法时间
    public float Damage;             // 伤害（百分比）
    public float Range;              // 范围
    public string AnimationName;     // 动画名称
    public string EffectPrefab;      // 特效预制体
    public List<int> ComboSkills;    // 可连招的技能ID
}
```

---

## 🎮 技能使用示例

### 战斗场景1：清理小怪
```
1. 使用"旋风斩"清理周围小怪
2. 使用"火球术"攻击远程敌人
3. 使用"连斩"快速击杀残血敌人
```

### 战斗场景2：Boss战
```
1. 使用"护盾"抵挡Boss攻击
2. 使用"狂暴"增加输出
3. 使用连招"连斩→重击→旋风斩"造成大量伤害
4. 使用"治疗"恢复生命值
5. 重复循环
```

---

## 🔧 技术实现

### 技能系统架构
```
SkillSystem (技能管理器)
├── SkillData (技能数据)
├── SkillConfig (技能配置)
├── SkillEffect (技能特效)
└── ComboManager (连招管理器)
```

### 技能释放流程
```
1. 玩家按下技能键
2. 检查冷却时间
3. 检查魔法值
4. 播放动画
5. 生成特效
6. 计算伤害
7. 应用伤害
8. 触发事件
9. 开始冷却
```

---

## 📈 技能平衡

### 伤害平衡
- **近战技能：** 高伤害，需要近身
- **远程技能：** 中等伤害，安全距离
- **辅助技能：** 无伤害，提供Buff

### 冷却平衡
- **基础技能：** 2-3秒
- **高级技能：** 4-5秒
- **Boss技能：** 8-30秒

### 魔法消耗
- **近战技能：** 10-20 MP
- **远程技能：** 15-25 MP
- **辅助技能：** 20-30 MP

---

## 🎯 总结

技能系统设计要点：
1. **多样性** - 17个技能，覆盖各种战斗场景
2. **连招系统** - 增加战斗深度
3. **平衡性** - 伤害、冷却、消耗平衡
4. **成长性** - 通过等级和Boss解锁新技能
5. **可玩性** - 不同技能组合产生不同效果

