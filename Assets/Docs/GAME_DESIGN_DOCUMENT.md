# 《暗影守护者》游戏设计文档

## 🎮 游戏概述

**游戏名称：** 暗影守护者（Shadow Guardian）

**游戏类型：** 动作RPG

**核心玩法：** 即时战斗 + 技能连招 + 角色成长 + 装备收集

**目标平台：** PC（Unity）

**开发周期：** 2-3个月（单人）

---

## 🎯 核心玩法循环

```
探索关卡 → 战斗 → 获得经验/装备 → 角色成长 → 挑战更强敌人 → 解锁新关卡
    ↑                                                                    ↓
    └─────────────────── 技能解锁/装备强化 ───────────────────────────┘
```

### 游戏流程
1. **选择关卡** - 从主界面选择关卡
2. **探索关卡** - 在关卡中移动、探索
3. **遭遇敌人** - 遇到小怪或Boss
4. **即时战斗** - 使用技能和连招战斗
5. **获得奖励** - 经验、金币、装备
6. **角色成长** - 升级、学习技能、装备强化
7. **挑战Boss** - 击败Boss解锁下一关卡

---

## ⚔️ 战斗系统设计

### 1. 即时战斗机制

#### 基础战斗
- **普通攻击** - 鼠标左键，无冷却，基础伤害
- **技能释放** - 数字键1-4，有冷却时间
- **闪避** - Shift键，短暂无敌帧
- **格挡** - 右键（可选），减少伤害

#### 战斗节奏
- **快节奏** - 战斗时间30-60秒
- **技能循环** - 技能冷却时间短，鼓励连续使用
- **连招系统** - 技能可以组合成连招，增加伤害

### 2. 技能系统

#### 技能分类

**1. 近战技能（物理伤害）**
- **重击** - 高伤害，前摇长，可打断
- **连斩** - 快速多段攻击
- **旋风斩** - 范围攻击，持续伤害
- **突刺** - 位移+伤害

**2. 远程技能（魔法伤害）**
- **火球术** - 直线飞行，爆炸伤害
- **冰箭** - 减速效果
- **闪电链** - 连锁攻击多个敌人
- **能量弹** - 追踪敌人

**3. 辅助技能（Buff/Debuff）**
- **狂暴** - 增加攻击速度和伤害
- **护盾** - 吸收伤害
- **治疗** - 恢复生命值
- **减速领域** - 范围内敌人减速

#### 技能连招系统

**连招规则：**
- 技能A → 技能B → 技能C（有连招窗口时间）
- 连招伤害递增：100% → 120% → 150%
- 连招成功有视觉反馈（特效、音效）

**示例连招：**
```
连斩 → 重击 → 旋风斩
火球术 → 闪电链 → 能量弹
突刺 → 连斩 → 重击
```

#### 技能解锁
- 通过等级解锁新技能
- 通过任务解锁特殊技能
- 技能可以升级（增加伤害、减少冷却）

### 3. 敌人设计

#### 小怪类型

**1. 近战小怪**
- **攻击方式：** 近身攻击
- **特点：** 血量低，攻击频率高
- **应对：** 使用范围技能或闪避

**2. 远程小怪**
- **攻击方式：** 远程投射物
- **特点：** 血量低，攻击频率中等
- **应对：** 使用闪避或快速接近

**3. 精英怪**
- **攻击方式：** 多种攻击模式
- **特点：** 血量高，有特殊技能
- **应对：** 需要策略性战斗

#### Boss设计

**Boss 1：暗影刺客**
- **阶段1：** 快速移动，近身攻击
- **阶段2：** 召唤小怪，使用范围技能
- **阶段3：** 狂暴状态，攻击速度大幅提升
- **奖励：** 解锁新技能"暗影步"

**Boss 2：火焰领主**
- **阶段1：** 远程火球攻击
- **阶段2：** 地面火焰陷阱
- **阶段3：** 全屏火焰攻击
- **奖励：** 解锁新技能"火焰护盾"

**Boss 3：冰霜女王**
- **阶段1：** 冰箭攻击，减速效果
- **阶段2：** 召唤冰墙阻挡
- **阶段3：** 冰冻领域，需要快速移动
- **奖励：** 解锁新技能"冰霜新星"

**Boss 4：雷电法师**
- **阶段1：** 连锁闪电攻击
- **阶段2：** 召唤雷电球
- **阶段3：** 雷电风暴，需要躲避
- **奖励：** 解锁新技能"雷电之怒"

**Boss 5：最终Boss - 暗影之王**
- **阶段1：** 所有Boss技能的组合
- **阶段2：** 召唤所有Boss
- **阶段3：** 终极形态，超高伤害
- **奖励：** 解锁终极技能"暗影爆发"

---

## 📈 成长系统设计

### 1. 角色等级系统

#### 等级上限
- **初始等级：** 1级
- **最高等级：** 30级
- **每级经验需求：** 递增（100, 150, 200...）

#### 属性成长
每升1级获得：
- **生命值：** +20
- **魔法值：** +10
- **力量：** +2（影响物理伤害）
- **敏捷：** +1（影响攻击速度、闪避）
- **智力：** +2（影响魔法伤害、魔法值）
- **属性点：** +3（自由分配）

### 2. 技能树系统

#### 技能树结构
```
基础技能（1级解锁）
├── 近战分支
│   ├── 重击（5级解锁）
│   ├── 连斩（10级解锁）
│   ├── 旋风斩（15级解锁）
│   └── 突刺（20级解锁）
├── 远程分支
│   ├── 火球术（5级解锁）
│   ├── 冰箭（10级解锁）
│   ├── 闪电链（15级解锁）
│   └── 能量弹（20级解锁）
└── 辅助分支
    ├── 狂暴（8级解锁）
    ├── 护盾（12级解锁）
    ├── 治疗（16级解锁）
    └── 减速领域（20级解锁）
```

#### 技能升级
- 每个技能可以升级3次
- 升级效果：伤害+20%，冷却-10%
- 升级消耗：技能点（通过等级获得）

### 3. 装备系统

#### 装备类型

**1. 武器**
- **类型：** 剑、法杖、匕首
- **属性：** 攻击力、攻击速度
- **特殊效果：** 增加技能伤害、减少冷却

**2. 防具**
- **类型：** 头盔、护甲、护腿、靴子
- **属性：** 防御力、生命值
- **特殊效果：** 增加闪避、减少伤害

**3. 饰品**
- **类型：** 戒指、项链
- **属性：** 全属性加成
- **特殊效果：** 特殊技能、被动效果

#### 装备品质
- **普通（白色）：** 基础属性
- **优秀（绿色）：** 基础属性+1条特殊属性
- **精良（蓝色）：** 基础属性+2条特殊属性
- **史诗（紫色）：** 基础属性+3条特殊属性+特殊效果
- **传说（橙色）：** 基础属性+4条特殊属性+强力特殊效果

#### 装备获取
- **掉落：** 击败敌人随机掉落
- **商店：** 使用金币购买
- **任务：** 完成任务奖励
- **Boss：** 击败Boss必掉高品质装备

#### 装备强化
- 使用强化石强化装备
- 强化等级：+1到+10
- 强化效果：基础属性增加
- 强化失败：装备不消失，强化等级-1

---

## 🗺️ 关卡设计

### 关卡结构

**关卡1：暗影森林**
- **敌人：** 暗影狼（近战）、暗影蝙蝠（远程）
- **Boss：** 暗影刺客
- **奖励：** 经验500，金币200，装备1件
- **解锁：** 关卡2

**关卡2：火焰洞穴**
- **敌人：** 火焰元素（近战）、火球怪（远程）
- **Boss：** 火焰领主
- **奖励：** 经验800，金币300，装备1件
- **解锁：** 关卡3

**关卡3：冰霜神殿**
- **敌人：** 冰霜守卫（近战）、冰霜法师（远程）
- **Boss：** 冰霜女王
- **奖励：** 经验1200，金币400，装备1件
- **解锁：** 关卡4

**关卡4：雷电高塔**
- **敌人：** 雷电元素（近战）、雷电球（远程）
- **Boss：** 雷电法师
- **奖励：** 经验1500，金币500，装备1件
- **解锁：** 关卡5

**关卡5：暗影王座**
- **敌人：** 所有类型的敌人混合
- **Boss：** 暗影之王
- **奖励：** 经验2000，金币1000，传说装备1件
- **解锁：** 无（最终关卡）

### 关卡机制

**1. 探索机制**
- 关卡中有隐藏宝箱
- 宝箱需要找到钥匙
- 宝箱奖励：金币、装备、道具

**2. 挑战机制**
- 每个关卡有3个挑战目标
- 挑战1：无伤通关
- 挑战2：时间限制
- 挑战3：连招次数
- 完成挑战获得额外奖励

**3. 难度选择**
- **简单：** 敌人血量-20%，伤害-20%
- **普通：** 标准难度
- **困难：** 敌人血量+50%，伤害+50%，奖励+50%

---

## 🎨 UI系统设计

### 1. 主界面

**元素：**
- 游戏标题
- 开始游戏按钮
- 设置按钮
- 退出游戏按钮

### 2. 关卡选择界面

**元素：**
- 关卡列表（卡片形式）
- 关卡信息（敌人、Boss、奖励）
- 关卡状态（锁定/解锁）
- 返回按钮

### 3. 战斗界面

**元素：**
- **左上角：** 玩家血条、魔法条
- **右上角：** 小地图（可选）
- **左下角：** 技能栏（4个技能图标）
- **右下角：** 道具栏（可选）
- **中央：** 伤害数字、连击数
- **顶部：** Boss血条（Boss战时显示）

### 4. 角色界面

**元素：**
- **左侧：** 角色模型（3D或2D）
- **右侧：** 角色属性面板
  - 等级、经验值
  - 生命值、魔法值
  - 力量、敏捷、智力
  - 攻击力、防御力
- **下方：** 技能树
- **装备栏：** 8个装备槽位

### 5. 背包界面

**元素：**
- **左侧：** 物品分类（武器、防具、饰品、消耗品）
- **中央：** 物品网格（显示物品图标）
- **右侧：** 物品详情（选中物品时显示）
- **底部：** 操作按钮（使用、出售、丢弃）

### 6. 商店界面

**元素：**
- **左侧：** 商品列表
- **右侧：** 商品详情
- **底部：** 玩家金币、购买按钮

---

## 🎯 游戏特色

### 1. 技能连招系统
- 技能可以组合成连招
- 连招伤害递增
- 连招成功有视觉反馈

### 2. 装备词条系统
- 装备有随机词条
- 词条可以组合产生效果
- 鼓励收集和搭配装备

### 3. 多Build路线
- **物理流：** 高力量，近战技能
- **魔法流：** 高智力，远程技能
- **平衡流：** 均衡属性，混合技能

### 4. 挑战系统
- 每个关卡有3个挑战目标
- 完成挑战获得额外奖励
- 增加游戏可玩性

---

## 🔧 技术实现要点

### 1. 战斗系统
- ✅ 即时战斗（已完成）
- ✅ 技能系统（已完成）
- ✅ 连招系统（已有ComboManager）
- [ ] 伤害计算系统
- [ ] 特效系统

### 2. 成长系统
- ✅ 角色系统（已完成）
- ✅ 经验系统（已完成）
- [ ] 技能树系统
- [ ] 装备系统
- [ ] 属性计算系统

### 3. 关卡系统
- ✅ 场景管理（框架已有）
- [ ] 关卡数据配置
- [ ] 敌人生成系统
- [ ] Boss AI系统

### 4. UI系统
- ✅ UI框架（框架已有）
- [ ] 战斗UI
- [ ] 角色界面UI
- [ ] 背包UI
- [ ] 商店UI

### 5. 数据系统
- ✅ 数据存储（框架已有）
- ✅ 配置表系统（框架已有）
- [ ] 关卡配置表
- [ ] 技能配置表
- [ ] 装备配置表
- [ ] 敌人配置表

---

## 📊 开发优先级

### 第一阶段：核心玩法（1个月）
1. **战斗系统完善**
   - [x] 即时战斗基础（已完成）
   - [x] 技能系统基础（已完成）
   - [ ] 伤害计算系统
   - [ ] 特效系统
   - [ ] 音效系统

2. **第一个关卡**
   - [ ] 关卡场景搭建
   - [ ] 敌人AI实现
   - [ ] Boss AI实现
   - [ ] 关卡流程

3. **基础UI**
   - [ ] 主界面
   - [ ] 战斗UI
   - [ ] 角色界面

### 第二阶段：内容填充（1个月）
1. **技能系统**
   - [ ] 10-15个技能实现
   - [ ] 技能树系统
   - [ ] 技能升级系统

2. **装备系统**
   - [ ] 装备数据结构
   - [ ] 装备掉落系统
   - [ ] 装备强化系统

3. **关卡内容**
   - [ ] 3-5个关卡
   - [ ] 3-5个Boss
   - [ ] 敌人类型扩展

### 第三阶段：优化和打磨（1个月）
1. **系统完善**
   - [ ] 商店系统
   - [ ] 任务系统
   - [ ] 挑战系统

2. **优化**
   - [ ] 性能优化
   - [ ] 手感调优
   - [ ] 平衡调整

3. **打磨**
   - [ ] 特效优化
   - [ ] 音效和音乐
   - [ ] UI动效

---

## 🎮 游戏流程示例

### 新手引导流程
1. **主界面** - 点击"开始游戏"
2. **角色创建** - 选择角色（可选，简化版可跳过）
3. **第一场战斗** - 教学战斗，学习基础操作
4. **角色界面** - 学习查看角色属性
5. **技能学习** - 学习第一个技能
6. **第一关** - 正式进入游戏

### 游戏循环
1. **选择关卡** - 从关卡选择界面选择
2. **加载关卡** - 显示加载界面
3. **探索关卡** - 移动、探索、寻找宝箱
4. **遭遇敌人** - 进入战斗
5. **战斗** - 使用技能和连招
6. **获得奖励** - 经验、金币、装备
7. **返回主界面** - 查看角色、装备、技能
8. **强化角色** - 升级、学习技能、装备强化
9. **挑战下一关** - 重复循环

---

## 📝 总结

这是一个**动作RPG**游戏，核心玩法是：
- **即时战斗** - 快节奏的战斗体验
- **技能连招** - 深度战斗系统
- **角色成长** - 等级、技能、装备
- **关卡挑战** - 5个关卡，5个Boss

**技术亮点：**
- ✅ 状态机系统
- ✅ 技能系统
- ✅ 连招系统
- ✅ 热更新（Lua）
- ✅ 对象池优化
- ✅ 事件系统

**开发周期：** 2-3个月（单人）

**适合作为面试作品的原因：**
- 技术栈丰富
- 系统完整
- 可玩性强
- 展示能力强

---

## 🚀 下一步

1. **确认玩法设计** - 是否满意这个设计方案
2. **开始开发** - 按照优先级开始实现
3. **迭代优化** - 根据测试反馈调整

需要我帮你：
1. 设计具体的技能数据？
2. 设计装备数据表？
3. 设计关卡配置表？
4. 创建开发任务清单？

告诉我你的想法！🎮

