# 《暗影守护者》- 城镇+副本模式游戏设计

## 🎮 游戏概述

**游戏名称：** 暗影守护者（Shadow Guardian）

**游戏类型：** 动作RPG（城镇+副本模式）

**核心玩法：** 城镇探索 → 选择副本 → 刷怪战斗 → 获得奖励 → 角色成长 → 挑战更高难度

**参考游戏：** 地下城与勇士、暗黑破坏神、流放之路

**目标平台：** PC（Unity）

**开发周期：** 2-3个月（单人）

---

## 🏛️ 核心玩法循环

```
城镇探索 → 选择副本 → 进入副本 → 刷怪战斗 → 获得奖励 → 返回城镇 → 强化角色 → 挑战更高难度
    ↑                                                                                    ↓
    └─────────────────────────────── 解锁新副本 ───────────────────────────────────────┘
```

### 游戏流程
1. **城镇探索** - 在城镇中移动、与NPC交互
2. **选择副本** - 通过传送门选择要挑战的副本
3. **进入副本** - 加载副本场景
4. **刷怪战斗** - 在副本中战斗，清理房间
5. **Boss战** - 击败Boss获得奖励
6. **返回城镇** - 自动返回城镇
7. **强化角色** - 升级、装备、技能
8. **挑战更高难度** - 重复循环

---

## 🏘️ 城镇系统设计

### 城镇结构

#### 1. 中央广场
- **功能：** 玩家出生点、主要活动区域
- **NPC：** 任务NPC、公告板
- **建筑：** 传送门（副本入口）

#### 2. 装备商店
- **功能：** 购买装备、出售装备
- **NPC：** 铁匠
- **商品：** 武器、防具、饰品

#### 3. 技能导师
- **功能：** 学习技能、升级技能
- **NPC：** 技能导师
- **功能：** 技能树、技能升级

#### 4. 强化工坊
- **功能：** 装备强化、装备附魔
- **NPC：** 强化师
- **功能：** 装备强化、词条附魔

#### 5. 仓库
- **功能：** 存储装备、道具
- **NPC：** 仓库管理员
- **功能：** 物品存储、物品整理

#### 6. 酒馆
- **功能：** 接取任务、查看排行榜（可选）
- **NPC：** 酒馆老板
- **功能：** 任务系统、社交功能（可选）

### 城镇交互

#### NPC对话系统
- **对话UI：** 显示NPC对话
- **选项系统：** 玩家可以选择对话选项
- **任务接取：** 通过对话接取任务

#### 传送门系统
- **传送门位置：** 中央广场
- **传送门UI：** 显示可用副本列表
- **副本选择：** 点击副本进入

---

## 🗺️ 副本系统设计

### 副本结构

#### 副本类型

**1. 普通副本（Normal）**
- **房间数：** 5-8个房间
- **敌人：** 小怪 + 1个Boss
- **奖励：** 经验、金币、普通装备
- **难度：** 低

**2. 精英副本（Elite）**
- **房间数：** 8-12个房间
- **敌人：** 小怪 + 精英怪 + 1个Boss
- **奖励：** 经验、金币、优秀/精良装备
- **难度：** 中
- **解锁条件：** 完成对应普通副本

**3. 英雄副本（Hero）**
- **房间数：** 12-15个房间
- **敌人：** 小怪 + 精英怪 + 2个Boss
- **奖励：** 经验、金币、精良/史诗装备
- **难度：** 高
- **解锁条件：** 完成对应精英副本

**4. 传说副本（Legend）**
- **房间数：** 15-20个房间
- **敌人：** 小怪 + 精英怪 + 3个Boss
- **奖励：** 经验、金币、史诗/传说装备
- **难度：** 极高
- **解锁条件：** 完成对应英雄副本

### 副本列表

#### 副本1：暗影森林（Shadow Forest）
- **普通副本：** 暗影森林（5个房间）
- **精英副本：** 暗影森林深处（8个房间）
- **英雄副本：** 暗影森林核心（12个房间）
- **传说副本：** 暗影森林禁地（15个房间）
- **Boss：** 暗影刺客

#### 副本2：火焰洞穴（Fire Cave）
- **普通副本：** 火焰洞穴入口（6个房间）
- **精英副本：** 火焰洞穴中层（9个房间）
- **英雄副本：** 火焰洞穴底层（13个房间）
- **传说副本：** 火焰洞穴核心（16个房间）
- **Boss：** 火焰领主

#### 副本3：冰霜神殿（Frost Temple）
- **普通副本：** 冰霜神殿前厅（7个房间）
- **精英副本：** 冰霜神殿中殿（10个房间）
- **英雄副本：** 冰霜神殿主殿（14个房间）
- **传说副本：** 冰霜神殿圣堂（17个房间）
- **Boss：** 冰霜女王

#### 副本4：雷电高塔（Thunder Tower）
- **普通副本：** 雷电高塔一层（8个房间）
- **精英副本：** 雷电高塔中层（11个房间）
- **英雄副本：** 雷电高塔高层（15个房间）
- **传说副本：** 雷电高塔顶层（18个房间）
- **Boss：** 雷电法师

#### 副本5：暗影王座（Shadow Throne）
- **普通副本：** 暗影王座前厅（10个房间）
- **精英副本：** 暗影王座中殿（13个房间）
- **英雄副本：** 暗影王座主殿（16个房间）
- **传说副本：** 暗影王座核心（20个房间）
- **Boss：** 暗影之王

### 副本机制

#### 1. 房间系统
- **房间类型：**
  - **战斗房间：** 清理所有敌人才能通过
  - **宝箱房间：** 有宝箱，需要钥匙
  - **陷阱房间：** 有陷阱，需要躲避
  - **Boss房间：** 最终Boss战

#### 2. 进度系统
- **房间进度：** 显示当前房间/总房间数
- **小地图：** 显示已探索的房间
- **自动保存：** 每完成一个房间自动保存

#### 3. 奖励系统
- **房间奖励：** 每个房间完成后获得小奖励
- **Boss奖励：** 击败Boss获得大奖励
- **首次通关奖励：** 首次通关额外奖励
- **完美通关奖励：** 无伤通关额外奖励

---

## ⚔️ 战斗系统（保留原有设计）

### 即时战斗
- **普通攻击：** 鼠标左键
- **技能释放：** 数字键1-4
- **闪避：** Shift键
- **格挡：** 右键（可选）

### 技能系统
- **17个技能**（近战、远程、辅助）
- **连招系统**（伤害递增）
- **技能树**（3个分支）

### 敌人系统
- **小怪：** 近战、远程
- **精英怪：** 有特殊技能
- **Boss：** 多阶段战斗

---

## 📈 成长系统（保留原有设计）

### 角色等级
- **等级上限：** 30级
- **属性成长：** 每级获得属性点
- **技能解锁：** 通过等级解锁

### 装备系统
- **装备类型：** 武器、防具、饰品
- **装备品质：** 普通→传说
- **装备强化：** +1到+10
- **装备词条：** 随机词条

---

## 🎨 UI系统设计

### 1. 城镇UI

#### 主界面
- **左上角：** 角色信息（头像、等级、金币）
- **中央：** 城镇场景（3D或2D）
- **右下角：** 快捷菜单（背包、角色、设置）

#### NPC对话UI
- **左侧：** NPC头像和名称
- **中央：** 对话内容
- **右侧：** 对话选项
- **底部：** 操作按钮（接取任务、购买等）

#### 传送门UI
- **中央：** 副本列表（卡片形式）
- **副本信息：** 名称、难度、推荐等级、奖励预览
- **副本状态：** 锁定/解锁、已完成/未完成
- **操作：** 进入副本、查看详情

### 2. 副本UI

#### 战斗界面（保留原有设计）
- **左上角：** 玩家血条、魔法条
- **右上角：** 小地图、房间进度
- **左下角：** 技能栏
- **右下角：** 道具栏
- **中央：** 伤害数字、连击数

#### 房间完成UI
- **显示：** 房间完成提示
- **奖励：** 获得的经验、金币、装备
- **操作：** 继续、返回城镇

#### Boss战UI
- **顶部：** Boss血条
- **中央：** 战斗区域
- **底部：** 技能栏

### 3. 其他UI（保留原有设计）
- **角色界面：** 属性、技能树、装备栏
- **背包界面：** 物品分类、物品详情
- **商店界面：** 商品列表、购买

---

## 🔧 技术实现要点

### 1. 城镇系统
- [ ] 创建城镇场景
- [ ] 实现NPC系统
- [ ] 实现对话系统
- [ ] 实现传送门系统
- [ ] 实现城镇UI

### 2. 副本系统
- [ ] 创建副本场景生成系统
- [ ] 实现房间系统
- [ ] 实现副本进度系统
- [ ] 实现副本解锁系统
- [ ] 实现副本奖励系统

### 3. 传送系统
- [ ] 实现场景切换
- [ ] 实现加载界面
- [ ] 实现数据保存/加载

### 4. 数据系统
- [ ] 副本配置表
- [ ] NPC配置表
- [ ] 对话配置表
- [ ] 副本解锁数据

---

## 🎯 游戏特色

### 1. 城镇+副本模式
- ✅ 增加游戏沉浸感
- ✅ 提供休息和强化空间
- ✅ 增加社交感（NPC交互）

### 2. 多难度副本
- ✅ 增加重复游玩价值
- ✅ 提供挑战性
- ✅ 奖励递增

### 3. 房间系统
- ✅ 增加探索感
- ✅ 提供多样化体验
- ✅ 增加策略性

### 4. 技能连招系统（保留）
- ✅ 增加战斗深度
- ✅ 提供操作感

### 5. 装备系统（保留）
- ✅ 增加收集乐趣
- ✅ 提供Build多样性

---

## 📊 开发优先级

### 第一阶段：核心系统（4周）

#### Week 1: 城镇系统
- [ ] 创建城镇场景
- [ ] 实现NPC系统
- [ ] 实现对话系统
- [ ] 实现基础UI

#### Week 2: 副本系统
- [ ] 创建副本场景生成系统
- [ ] 实现房间系统
- [ ] 实现第一个副本（普通难度）
- [ ] 实现副本进度系统

#### Week 3: 传送系统
- [ ] 实现传送门系统
- [ ] 实现场景切换
- [ ] 实现加载界面
- [ ] 实现数据保存/加载

#### Week 4: 系统整合
- [ ] 整合城镇和副本系统
- [ ] 整合战斗系统
- [ ] 测试完整流程
- [ ] 修复Bug

### 第二阶段：内容填充（4周）

#### Week 5: 副本扩展
- [ ] 实现5个普通副本
- [ ] 实现副本解锁系统
- [ ] 实现副本奖励系统

#### Week 6: 难度系统
- [ ] 实现精英副本
- [ ] 实现英雄副本
- [ ] 实现传说副本
- [ ] 实现难度选择

#### Week 7: NPC功能
- [ ] 实现装备商店
- [ ] 实现技能导师
- [ ] 实现强化工坊
- [ ] 实现仓库

#### Week 8: 系统完善
- [ ] 实现任务系统
- [ ] 实现挑战系统
- [ ] 完善UI系统

### 第三阶段：优化和打磨（4周）

#### Week 9-12: 优化打磨
- [ ] 性能优化
- [ ] 手感调优
- [ ] 平衡调整
- [ ] 最终测试

---

## 💡 相对于线性关卡的优势

### 1. 重复游玩价值
- ✅ 玩家可以反复刷副本
- ✅ 不同难度提供不同挑战
- ✅ 装备收集增加动力

### 2. 系统展示更全面
- ✅ 城镇系统（NPC、商店、对话）
- ✅ 副本系统（房间、进度、解锁）
- ✅ 传送系统（场景切换、加载）

### 3. 更符合现代RPG
- ✅ 类似DNF、暗黑破坏神
- ✅ 面试官更熟悉
- ✅ 展示技术能力更全面

### 4. 开发灵活性
- ✅ 可以逐步添加副本
- ✅ 可以调整难度
- ✅ 可以扩展功能

---

## 🎮 游戏流程示例

### 新手流程
1. **创建角色** - 选择角色（可选）
2. **进入城镇** - 出生在中央广场
3. **新手引导** - NPC对话，学习基础操作
4. **第一个副本** - 进入暗影森林（普通）
5. **完成副本** - 击败Boss，获得奖励
6. **返回城镇** - 自动返回城镇
7. **强化角色** - 升级、装备、技能
8. **挑战更高难度** - 解锁精英副本

### 游戏循环
1. **城镇探索** - 与NPC交互、接取任务
2. **选择副本** - 通过传送门选择副本
3. **进入副本** - 加载副本场景
4. **清理房间** - 逐个房间清理敌人
5. **Boss战** - 击败Boss
6. **获得奖励** - 经验、金币、装备
7. **返回城镇** - 自动返回
8. **强化角色** - 升级、装备、技能
9. **挑战更高难度** - 重复循环

---

## 📝 总结

### 城镇+副本模式的优势
1. ✅ **重复游玩价值高** - 可以反复刷副本
2. ✅ **系统展示全面** - 城镇、副本、传送系统
3. ✅ **更符合现代RPG** - 类似DNF、暗黑破坏神
4. ✅ **开发灵活性高** - 可以逐步扩展

### 保留的优势
1. ✅ **战斗系统** - 即时战斗、技能连招
2. ✅ **成长系统** - 等级、技能、装备
3. ✅ **技术亮点** - 状态机、AI、优化

### 新增的系统
1. ✅ **城镇系统** - NPC、商店、对话
2. ✅ **副本系统** - 房间、进度、解锁
3. ✅ **传送系统** - 场景切换、加载

### 开发周期
- **第一阶段：** 4周（核心系统）
- **第二阶段：** 4周（内容填充）
- **第三阶段：** 4周（优化打磨）
- **总计：** 12周（3个月）

---

## 🚀 下一步

需要我帮你：
1. **设计城镇场景布局**？
2. **设计副本房间结构**？
3. **创建NPC系统代码**？
4. **创建副本生成系统**？
5. **更新开发任务清单**？

告诉我你想从哪里开始！🎮

