# Addressableèµ„æºæ‰“åŒ…æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

å®Œæˆèµ„æºæ ‡æ³¨åï¼Œéœ€è¦å°†èµ„æºæ‰“åŒ…æˆAddressableèµ„æºæ–‡ä»¶ï¼Œæ‰èƒ½åœ¨è¿è¡Œæ—¶åŠ è½½ä½¿ç”¨ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•1ï¼šä½¿ç”¨æ„å»ºå·¥å…·ï¼ˆæ¨èï¼‰

1. **æ‰“å¼€æ„å»ºå·¥å…·**
   - èœå•ï¼š`Tools > Addressable > èµ„æºæ„å»ºå·¥å…·`

2. **é…ç½®æ„å»ºå‚æ•°**
   - é€‰æ‹©æ„å»ºå¹³å°ï¼ˆWindowsã€Androidã€iOSç­‰ï¼‰
   - ç¡®è®¤è¾“å‡ºè·¯å¾„ï¼ˆé»˜è®¤ï¼š`ServerData/[BuildTarget]`ï¼‰

3. **æ‰§è¡Œæ„å»º**
   - ç‚¹å‡»"æ„å»ºAddressablesèµ„æº"æŒ‰é’®
   - ç­‰å¾…æ„å»ºå®Œæˆ

4. **æŸ¥çœ‹è¾“å‡º**
   - æ„å»ºå®Œæˆåä¼šè‡ªåŠ¨æ‰“å¼€è¾“å‡ºç›®å½•
   - èµ„æºæ–‡ä»¶ä½äºï¼š`ServerData/[BuildTarget]` ç›®å½•ä¸‹

### æ–¹æ³•2ï¼šä½¿ç”¨Unityèœå•

1. **æ‰“å¼€Addressables Groupsçª—å£**
   - èœå•ï¼š`Window > Asset Management > Addressables > Groups`

2. **æ‰§è¡Œæ„å»º**
   - ç‚¹å‡» `Build > New Build > Default Build Script`
   - æˆ–é€‰æ‹© `Build > Update a Previous Build`ï¼ˆå¢é‡æ›´æ–°ï¼‰

3. **ç­‰å¾…æ„å»ºå®Œæˆ**
   - æŸ¥çœ‹Consoleçª—å£çš„æ„å»ºæ—¥å¿—
   - æ„å»ºå®Œæˆåèµ„æºä¼šè¾“å‡ºåˆ°é…ç½®çš„è·¯å¾„

## ğŸ“ è¾“å‡ºæ–‡ä»¶è¯´æ˜

æ„å»ºå®Œæˆåï¼Œä¼šç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

```
ServerData/
â””â”€â”€ [BuildTarget]/          # å¹³å°ç›®å½•ï¼ˆå¦‚ StandaloneWindows64ï¼‰
    â”œâ”€â”€ catalog_*.json      # èµ„æºç›®å½•æ–‡ä»¶ï¼ˆé‡è¦ï¼ï¼‰
    â”œâ”€â”€ *.bundle            # èµ„æºåŒ…æ–‡ä»¶
    â””â”€â”€ *.bundle.manifest   # èµ„æºåŒ…æ¸…å•æ–‡ä»¶
```

### å…³é”®æ–‡ä»¶è¯´æ˜

- **catalog_*.json**: èµ„æºç›®å½•æ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰èµ„æºçš„åœ°å€æ˜ å°„ä¿¡æ¯
- ***.bundle**: å®é™…çš„èµ„æºåŒ…æ–‡ä»¶
- ***.bundle.manifest**: èµ„æºåŒ…çš„å…ƒæ•°æ®ä¿¡æ¯

## ğŸ”§ æ„å»ºé…ç½®

### æœ¬åœ°æ„å»ºï¼ˆLocalï¼‰

èµ„æºæ‰“åŒ…åˆ°æœ¬åœ°ï¼Œéšæ¸¸æˆä¸€èµ·å‘å¸ƒï¼š

- **æ„å»ºè·¯å¾„**: `[UnityEngine.AddressableAssets.Addressables.BuildPath]/[BuildTarget]`
- **åŠ è½½è·¯å¾„**: `{UnityEngine.AddressableAssets.Addressables.RuntimePath}/[BuildTarget]`
- **ç”¨é€”**: å•æœºæ¸¸æˆã€å°åŒ…ä½“èµ„æº

### è¿œç¨‹æ„å»ºï¼ˆRemoteï¼‰

èµ„æºä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œè¿è¡Œæ—¶ä¸‹è½½ï¼š

- **æ„å»ºè·¯å¾„**: `ServerData/[BuildTarget]`
- **åŠ è½½è·¯å¾„**: `http://your-server.com/[BuildTarget]`
- **ç”¨é€”**: çƒ­æ›´æ–°ã€å¤§åŒ…ä½“èµ„æº

### é…ç½®è¿œç¨‹æœåŠ¡å™¨

1. æ‰“å¼€ `Window > Asset Management > Addressables > Groups`
2. ç‚¹å‡» `Profiles` æ ‡ç­¾
3. è®¾ç½® `Remote.LoadPath` ä¸ºæœåŠ¡å™¨åœ°å€
4. æ„å»ºæ—¶é€‰æ‹© `Remote` Profile

## ğŸ“¦ å‘å¸ƒæµç¨‹

### 1. æ„å»ºæ¸¸æˆ

```bash
# ä½¿ç”¨Unityæ„å»ºæ¸¸æˆ
File > Build Settings > Build
```

### 2. å¤åˆ¶èµ„æºæ–‡ä»¶

**æœ¬åœ°æ„å»º**ï¼š
- å°† `ServerData/[BuildTarget]` ç›®å½•å¤åˆ¶åˆ°æ¸¸æˆå®‰è£…ç›®å½•
- ç¡®ä¿èµ„æºæ–‡ä»¶ä¸æ¸¸æˆå¯æ‰§è¡Œæ–‡ä»¶åœ¨åŒä¸€ç›®å½•ç»“æ„ä¸‹

**è¿œç¨‹æ„å»º**ï¼š
- å°† `ServerData/[BuildTarget]` ç›®å½•ä¸Šä¼ åˆ°æœåŠ¡å™¨
- é…ç½®æœåŠ¡å™¨URLï¼Œç¡®ä¿å¯ä»¥è®¿é—®

### 3. æµ‹è¯•è¿è¡Œ

è¿è¡Œæ¸¸æˆï¼ŒéªŒè¯èµ„æºåŠ è½½æ˜¯å¦æ­£å¸¸ã€‚

## âš™ï¸ è¿è¡Œæ—¶ä½¿ç”¨

### åˆ‡æ¢åŠ è½½å™¨

åœ¨æ¸¸æˆå¯åŠ¨æ—¶åˆ‡æ¢åˆ°AddressablesLoaderï¼š

```csharp
using Framework.ResourceLoader;

// åœ¨æ¸¸æˆå¯åŠ¨æ—¶ï¼ˆå¦‚GameManagerçš„Awakeæˆ–Startæ–¹æ³•ï¼‰
#if UNITY_ADDRESSABLES
ResManager.SetResourceLoader(new AddressablesLoader());
#endif
```

### åŠ è½½èµ„æº

ä½¿ç”¨æ–¹å¼ä¸ResourcesLoaderå®Œå…¨ä¸€è‡´ï¼š

```csharp
// åŠ è½½Tableèµ„æº
var tableData = ResManager.Load<TextAsset>("Table/AddDeviceProgess");

// åŠ è½½Luaè„šæœ¬
var luaScript = ResManager.Load<TextAsset>("lua/game/main");

// åŠ è½½Prefab
var prefab = ResManager.Load<GameObject>("UI/MainMenuUI");
```

## ğŸ” å¸¸è§é—®é¢˜

### Q: æ„å»ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ

A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¡®ä¿æ‰€æœ‰èµ„æºéƒ½å·²æ­£ç¡®æ ‡æ³¨ä¸ºAddressable
2. æ£€æŸ¥Consoleçª—å£çš„é”™è¯¯ä¿¡æ¯
3. ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´
4. å°è¯•æ¸…ç†æ„å»ºç¼“å­˜åé‡æ–°æ„å»º

### Q: èµ„æºåŠ è½½å¤±è´¥ï¼Ÿ

A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¡®ä¿å·²åˆ‡æ¢åˆ°AddressablesLoader
2. æ£€æŸ¥èµ„æºåœ°å€æ˜¯å¦æ­£ç¡®ï¼ˆä¸æ ‡æ³¨æ—¶ä¸€è‡´ï¼‰
3. ç¡®ä¿èµ„æºæ–‡ä»¶å·²æ­£ç¡®å¤åˆ¶åˆ°è¾“å‡ºç›®å½•
4. æ£€æŸ¥catalogæ–‡ä»¶æ˜¯å¦å­˜åœ¨

### Q: å¦‚ä½•å¢é‡æ›´æ–°ï¼Ÿ

A: ä½¿ç”¨ `Build > Update a Previous Build`ï¼š
1. åªæ„å»ºå˜æ›´çš„èµ„æº
2. ç”Ÿæˆå¢é‡æ›´æ–°åŒ…
3. å‡å°‘æ„å»ºæ—¶é—´

### Q: å¦‚ä½•æ¸…ç†æ„å»ºç¼“å­˜ï¼Ÿ

A: åœ¨æ„å»ºå·¥å…·ä¸­ç‚¹å‡»"æ¸…ç†æ„å»ºç¼“å­˜"æŒ‰é’®ï¼Œæˆ–ï¼š
1. æ‰“å¼€Addressables Groupsçª—å£
2. ç‚¹å‡» `Tools > Clean Build > Clean All`

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Addressableså®˜æ–¹æ–‡æ¡£](https://docs.unity3d.com/Packages/com.unity.addressables@latest)
- [ç»Ÿä¸€æ‰¹é‡æ ‡æ³¨å·¥å…·ä½¿ç”¨è¯´æ˜](./UnifiedAddressableTool.cs)
- [èµ„æºåŠ è½½æ¡†æ¶è¯´æ˜](../../ResourceLoader/README.md)

## ğŸ’¡ æœ€ä½³å®è·µ

1. **å®šæœŸæ„å»º**: æ¯æ¬¡èµ„æºæ›´æ–°åé‡æ–°æ„å»º
2. **ç‰ˆæœ¬ç®¡ç†**: ä½¿ç”¨ç‰ˆæœ¬å·ç®¡ç†èµ„æºæ›´æ–°
3. **æµ‹è¯•éªŒè¯**: æ„å»ºåæµ‹è¯•èµ„æºåŠ è½½
4. **å¤‡ä»½èµ„æº**: ä¿ç•™å†å²ç‰ˆæœ¬çš„èµ„æºæ–‡ä»¶
5. **ç›‘æ§å¤§å°**: å…³æ³¨èµ„æºåŒ…å¤§å°ï¼Œä¼˜åŒ–èµ„æº

